<template>
<style>
:host {
  display: inline-block;
  width: 250px;
  padding: 1em;
  text-align: center;
  border: 1px solid black;
}
#symbol {
  display: block;
  margin: 0 auto;
}
</style>
<img id='symbol'>
<p id='mainline'></p>
</template>

<script>
  var WeatherBox = null;

  (function(currentScript) {

    var elemPrototype   = Object.create(HTMLDivElement.prototype);

    // Private properties
    var location = null, units = 'metric';

    // Public Properties
    Object.defineProperty(elemPrototype, 'location', {
      get: function() { return location; },
      set: function(newLocation) {
        location = newLocation;
      }
    });

    Object.defineProperty(elemPrototype, 'metric', {
      get: function() { return units === 'metric'; },
      set: function(metric) {
        units = metric ? 'metric' : 'imperial';
      }
    });

    // Helpers

    // Lifecycle callbacks

    elemPrototype.createdCallback = function() {
      this.root = this.createShadowRoot();
      var tplContent = currentScript.ownerDocument.querySelector('template').content,
          node       = document.importNode(tplContent, true);

      this.root.appendChild(node);
    };

    elemPrototype.attachedCallback = function() {
    };

    // Public methods

    elemPrototype.update = function() {
      console.log("Updating weather data...")
    }

    Element = document.registerElement('weather-box', { prototype: elemPrototype });
  }(document._currentScript || document.currentScript));
</script>
